# Supreme System V5 - Ultra-Constrained Requirements
# Minimal dependencies for 1GB RAM deployment with ETH-USDT scalping
# Agent Mode: Optimized dependency list

# ============================================================================
# CORE RUNTIME (REQUIRED)
# ============================================================================

# Python stdlib extensions
loguru>=0.7.0,<0.8.0
asyncio-throttle>=1.0.2

# Data processing (minimal versions)
numpy>=1.24.0,<2.0.0
pandas>=2.0.0,<3.0.0
polars>=0.20.0,<1.0.0

# HTTP/WebSocket (lightweight)
aiohttp>=3.8.0,<4.0.0
websockets>=11.0.0,<12.0.0
requests>=2.31.0,<3.0.0

# Configuration management
pydantic>=2.0.0,<3.0.0
pydantic-settings>=2.0.0,<3.0.0
python-dotenv>=1.0.0,<2.0.0

# Exchange connectivity
ccxt>=4.0.0,<5.0.0

# ============================================================================
# CACHE & DATABASE CONNECTIVITY (REQUIRED FOR data_fabric)
# ============================================================================

# PostgreSQL async connector - REQUIRED by cache.py
asyncpg>=0.28.0,<1.0.0

# Redis connector - REQUIRED by cache.py
redis>=5.0.0,<6.0.0

# ============================================================================
# MONITORING & OBSERVABILITY (LIGHTWEIGHT)
# ============================================================================

# Metrics (minimal Prometheus)
prometheus-client>=0.17.0,<1.0.0

# System monitoring
psutil>=5.9.0,<6.0.0

# ============================================================================
# TESTING & VALIDATION
# ============================================================================

# Testing framework
pytest>=7.4.0,<8.0.0
pytest-asyncio>=0.21.0,<1.0.0
pytest-benchmark>=4.0.0,<5.0.0

# ============================================================================
# OPTIONAL PERFORMANCE ENHANCEMENTS
# ============================================================================

# JIT compilation (if available)
numba>=0.57.0,<1.0.0; python_version>="3.9"

# Fast JSON parsing
orjson>=3.9.0,<4.0.0

# ============================================================================
# DEVELOPMENT TOOLS (OPTIONAL)
# ============================================================================

# Code formatting
black>=23.0.0,<24.0.0
isort>=5.12.0,<6.0.0

# Linting
flake8>=6.0.0,<7.0.0

# Memory profiling (optional)
memory-profiler>=0.61.0,<1.0.0

# ============================================================================
# EXCLUDED FROM ULTRA-CONSTRAINED
# ============================================================================

# Heavy ML/AI libraries (disabled in ultra-constrained mode)
# torch>=2.0.0  # DISABLED - Too memory intensive (>500MB)
# transformers>=4.30.0  # DISABLED - Too memory intensive
# scikit-learn>=1.3.0  # DISABLED - Too memory intensive
# tensorflow>=2.13.0  # DISABLED - Too memory intensive

# Advanced visualization (disabled)
# matplotlib>=3.7.0  # DISABLED - Heavy dependency
# plotly>=5.15.0  # DISABLED - Heavy dependency
# dash>=2.11.0  # DISABLED - Heavy dashboard

# Multiple data providers (keep only 2)
# yfinance>=0.2.0  # DISABLED - Keep only Binance+CoinGecko
# alpha-vantage>=2.3.0  # DISABLED
# finnhub-python>=2.4.0  # DISABLED

# Advanced technical analysis
# ta>=0.10.0  # DISABLED - Use OptimizedTechnicalAnalyzer instead
# talib>=0.4.0  # DISABLED - C dependency, use custom implementation

# Heavy web frameworks
# fastapi>=0.100.0  # DISABLED - Use simple endpoints if needed
# uvicorn>=0.23.0  # DISABLED
# gunicorn>=21.0.0  # DISABLED

# ============================================================================
# INSTALLATION NOTES
# ============================================================================

# Install with:
#   pip install -r requirements-ultra.txt
#
# For development:
#   pip install -r requirements-ultra.txt
#   pip install black isort flake8 memory-profiler
#
# Expected total size: ~250MB (+polars +asyncpg +redis) vs ~1.5GB for full requirements
# RAM usage: ~180–300MB for imports in CI (ultra-constrained runtime still ~8–10MB)
# 
# FIXED: Added asyncpg and redis dependencies required by data_fabric/cache.py
# These are essential for the cache layer and cannot be excluded in ultra-constrained mode